parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Ovro":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.weightedRandom=void 0;var e=function(e,r,t){if(e.length!==r.length)throw new RangeError("Chance: Length of array and weights must match");for(var n,a=0,i=0;i<r.length;++i){if(n=r[i],isNaN(n))throw new RangeError("Chance: All weights must be numbers");n>0&&(a+=n)}if(0===a)throw new RangeError("Chance: No valid entries in array weights");var o,h=Math.random()*a,s=0,g=-1;for(i=0;i<r.length;++i){if(s+=n=r[i],n>0){if(h<=s){o=i;break}g=i}i===r.length-1&&(o=g)}var l=e[o];return(t=void 0!==t&&t)&&(e.splice(o,1),r.splice(o,1)),l};exports.weightedRandom=e;
},{}],"LZ7J":[function(require,module,exports) {
"use strict";var t=require("./util"),e=function(t){return document.getElementById(t)},a={targetTime:1200,window:5e4,exponent:5},o=["a","i","u","e","o","ka","ki","ku","ke","ko","sa","shi","su","se","so","ta","chi","tsu","te","to","na","ni","nu","ne","no","ha","hi","fu","he","ho","ma","mi","mu","me","mo","ya","yu","yo","ra","ri","ru","re","ro","wa","wi","we","wo","n","ga","gi","gu","ge","go","za","ji","zu","ze","zo","da","ji","zu","de","do","ba","bi","bu","be","bo","pa","pi","pu","pe","po","vu","kya","kyu","kyo","sha","shu","sho","cha","chu","cho","nya","nyu","nyo","hya","hyu","hyo","mya","myu","myo","rya","ryu","ryo","gya","gyu","gyo","ja","ju","jo","ja","ju","jo","bya","byu","byo","pya","pyu","pyo"].map(function(t){return{romanization:t,character:t}}),r={id:localStorage.getItem("yajla.id")||Math.random().toString(16).slice(2),question:localStorage.getItem("yajla.c.question")||"a",answer:localStorage.getItem("yajla.c.answer")||"a",level:+localStorage.getItem("yajla.c.level")||70,tests:+localStorage.getItem("yajla.c.tests")||0,totalTime:+localStorage.getItem("yajla.c.totalTime")||0,rounds:+localStorage.getItem("yajla.c.rounds")||0,statsPerChar:localStorage.getItem("yajla.c.statsPerChar")?JSON.parse(localStorage.getItem("yajla.c.statsPerChar")):{},window:localStorage.getItem("yajla.c.window")?JSON.parse(localStorage.getItem("yajla.c.window")):[],timeStarted:Date.now(),currentTestNotRanked:!0};window.state=r;var s=function(){fetch("https://box.paulll.cc/yajla-stats/",{method:"POST",mode:"cors",redirect:"follow",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r.id,type:"calibrate",stats:r.statsPerChar})}),localStorage.setItem("yajla.id",r.id),localStorage.setItem("yajla.c.question",r.question),localStorage.setItem("yajla.c.answer",r.answer),localStorage.setItem("yajla.c.level",r.level),localStorage.setItem("yajla.c.rounds",r.rounds),localStorage.setItem("yajla.c.tests",r.tests),localStorage.setItem("yajla.c.totalTime",r.totalTime),localStorage.setItem("yajla.c.statsPerChar",JSON.stringify(r.statsPerChar)),localStorage.setItem("yajla.c.window",JSON.stringify(r.window))},n=function(){r.tests&&r.rounds%10==0&&(r.totalTime/r.tests<=a.targetTime&&r.level++);for(var e=function(){var e=o.slice(0,r.level),a=e.map(function(t){return e=t.character,r.statsPerChar.hasOwnProperty(e)?r.statsPerChar[e].totalTime/r.statsPerChar[e].tests:99999999;var e});return(0,t.weightedRandom)(e,a)},n=e();n.character==r.question;)n=e();r.question=n.character,r.answer=n.romanization,r.timeStarted=Date.now(),r.currentTestNotRanked=!1,s()},i=function(t,e){if(t.toLowerCase()==r.answer){if(!r.currentTestNotRanked){var o=Date.now()-r.timeStarted;if(o>7500)return;var n=r.tests+1>=a.window?r.window.shift():0;r.totalTime+=o-n,r.tests=r.tests+1>=a.window?a.window:r.tests+1,r.window.push(o),r.statsPerChar.hasOwnProperty(r.question)||(r.statsPerChar[r.question]={tests:0,totalTime:0}),r.statsPerChar[r.question].totalTime+=o,r.statsPerChar[r.question].tests++}return r.rounds++,s(),!0}};e("input").focus(),e("input").addEventListener("blur",function(){r.currentTestNotRanked=!0,e("input").focus()});var l=function(){e("char").textContent=r.question,e("answer").textContent=r.answer,e("input").value="",e("char").classList.remove("animate"),e("char").offsetWidth,e("char").classList.add("animate"),e("stats").textContent="avg ".concat(Math.floor(r.totalTime/r.tests)||1e3,"ms\t level ").concat(r.level)};setTimeout(l,0);var u=0,c="",y=function(){c!=e("input").value&&(u++,c=e("input").value),i(e("input").value,u)&&(n(),l(),u=0)," "==e("input").value&&(r.currentTestNotRanked=!0,e("answer").style.opacity="1",e("input").value="")},m=function(){return setTimeout(y,0)};e("input").addEventListener("keydown",function(t){e("answer").style.opacity="0",t.key&&" "==t.key&&(e("input").value=" ",t.preventDefault()),m()}),e("input").addEventListener("keypress",m),e("input").addEventListener("input",m);
},{"./util":"Ovro"}]},{},["LZ7J"], null)
//# sourceMappingURL=calibrate.f9ef6778.js.map