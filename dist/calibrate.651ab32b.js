parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {var f={},k=function(e,r,n){if(e.length!==r.length)throw new RangeError("Chance: Length of array and weights must match");for(var t,a=0,o=0;o<r.length;++o){if(t=r[o],isNaN(t))throw new RangeError("Chance: All weights must be numbers");t>0&&(a+=t)}if(0===a)throw new RangeError("Chance: No valid entries in array weights");var h,i=Math.random()*a,g=0,s=-1;for(o=0;o<r.length;++o){if(g+=t=r[o],t>0){if(i<=g){h=o;break}s=o}o===r.length-1&&(h=s)}var w=e[h];return(n=void 0!==n&&n)&&(e.splice(h,1),r.splice(h,1)),w};f.weightedRandom=k;var c=function(t){return document.getElementById(t)},d={targetTime:1200,window:5e4,exponent:5},q=["a","i","u","e","o","ka","ki","ku","ke","ko","sa","shi","su","se","so","ta","chi","tsu","te","to","na","ni","nu","ne","no","ha","hi","fu","he","ho","ma","mi","mu","me","mo","ya","yu","yo","ra","ri","ru","re","ro","wa","wi","we","wo","n","ga","gi","gu","ge","go","za","ji","zu","ze","zo","da","ji","zu","de","do","ba","bi","bu","be","bo","pa","pi","pu","pe","po","vu","kya","kyu","kyo","sha","shu","sho","cha","chu","cho","nya","nyu","nyo","hya","hyu","hyo","mya","myu","myo","rya","ryu","ryo","gya","gyu","gyo","ja","ju","jo","ja","ju","jo","bya","byu","byo","pya","pyu","pyo"].map(function(t){return{romanization:t,character:t}}),b={id:localStorage.getItem("yajla.id")||Math.random().toString(16).slice(2),question:localStorage.getItem("yajla.c.question")||"a",answer:localStorage.getItem("yajla.c.answer")||"a",level:+localStorage.getItem("yajla.c.level")||70,tests:+localStorage.getItem("yajla.c.tests")||0,totalTime:+localStorage.getItem("yajla.c.totalTime")||0,rounds:+localStorage.getItem("yajla.c.rounds")||0,statsPerChar:localStorage.getItem("yajla.c.statsPerChar")?JSON.parse(localStorage.getItem("yajla.c.statsPerChar")):{},window:localStorage.getItem("yajla.c.window")?JSON.parse(localStorage.getItem("yajla.c.window")):[],timeStarted:Date.now(),currentTestNotRanked:!0};window.state=b;var l=function(){fetch("https://box.paulll.cc/yajla-stats/",{method:"POST",mode:"cors",redirect:"follow",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b.id,type:"calibrate",stats:b.statsPerChar})}),localStorage.setItem("yajla.id",b.id),localStorage.setItem("yajla.c.question",b.question),localStorage.setItem("yajla.c.answer",b.answer),localStorage.setItem("yajla.c.level",b.level),localStorage.setItem("yajla.c.rounds",b.rounds),localStorage.setItem("yajla.c.tests",b.tests),localStorage.setItem("yajla.c.totalTime",b.totalTime),localStorage.setItem("yajla.c.statsPerChar",JSON.stringify(b.statsPerChar)),localStorage.setItem("yajla.c.window",JSON.stringify(b.window))},u=function(){b.tests&&b.rounds%10==0&&b.totalTime/b.tests<=d.targetTime&&b.level++;for(var t=function(){var t=q.slice(0,b.level),a=t.map(function(t){return a=t.character,b.statsPerChar.hasOwnProperty(a)?b.statsPerChar[a].totalTime/b.statsPerChar[a].tests:99999999;var a});return k(t,a)},a=t();a.character==b.question;)a=t();b.question=a.character,b.answer=a.romanization,b.timeStarted=Date.now(),b.currentTestNotRanked=!1,l()},v=function(t,a){if(t.toLowerCase()==b.answer){if(!b.currentTestNotRanked){var e=Date.now()-b.timeStarted;if(e>7500)return;var $=b.tests+1>=d.window?b.window.shift():0;b.totalTime+=e-$,b.tests=b.tests+1>=d.window?d.window:b.tests+1,b.window.push(e),b.statsPerChar.hasOwnProperty(b.question)||(b.statsPerChar[b.question]={tests:0,totalTime:0}),b.statsPerChar[b.question].totalTime+=e,b.statsPerChar[b.question].tests++}return b.rounds++,l(),!0}};c("input").focus(),c("input").addEventListener("blur",function(){b.currentTestNotRanked=!0,c("input").focus()});var m=function(){c("char").textContent=b.question,c("answer").textContent=b.answer,c("input").value="",c("char").classList.remove("animate"),c("char").offsetWidth,c("char").classList.add("animate"),c("stats").textContent="avg ".concat(Math.floor(b.totalTime/b.tests)||1e3,"ms\t level ").concat(b.level)};setTimeout(m,0);var p=0,x="",y=function(){x!=c("input").value&&(p++,x=c("input").value),v(c("input").value,p)&&(u(),m(),p=0)," "==c("input").value&&(b.currentTestNotRanked=!0,c("answer").style.opacity="1",c("input").value="")},j=function(){return setTimeout(y,0)};c("input").addEventListener("keydown",function(t){c("answer").style.opacity="0",t.key&&" "==t.key&&(c("input").value=" ",t.preventDefault()),j()}),c("input").addEventListener("keypress",j),c("input").addEventListener("input",j);f.__esModule=true;return{"LZ7J":{},"Ovro":f};});